add obstacles
refine so it can be run without a tty
